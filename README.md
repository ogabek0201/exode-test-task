# Matcher Prototype (React + TS + Vite)

Интерактивный прототип для сопоставления элементов в двух колонках c линиями,
drag & drop (pointer events), сохранением состояния и адаптивной версткой.

## Запуск

- Установить зависимости: `pnpm i` (или `npm i`)
- Старт dev-сервера: `pnpm dev` (или `npm run dev`)
- Проверить код линтером: `pnpm lint`
- Собрать проект: `pnpm build`

## Как пользоваться

- Перетягивайте элементы между колонками, чтобы создать пару.
- Клик по линии удаляет пару. Наверху есть чипы текущих пар — по ним тоже можно удалить пару.
- Кнопки: `Save` (сохранить пары в localStorage), `Load` (восстановить), `Clear` (очистить пары и localStorage).
- Мобильные устройства поддерживаются (pointer events).

## Архитектура (FSD-образно)

- `src/features/matcher/ui/Matcher.tsx` — UI без бизнес-логики расчёта координат.
- `src/features/matcher/types.ts` — типы `Line`, `DragState` (тип `Pair` вынесен в `src/entities/match/types.ts`).
- `src/features/matcher/model/pairing.ts` — валидаторы и операции над парами (`canPair`, `removePair`).
- `src/features/matcher/lib/coords.ts` — расчет координат элементов относительно контейнера.
- `src/pages/home/ui/HomePage.tsx` — страница, стейт пар + кнопки сохранения.

## Критерии качества (как закрыты)

- Код/TS: типы вынесены в `types.ts`, логика в `model`, UI чистый; строгая типизация включена.
- Функциональность: drag & drop на pointer events, линии между элементами,
  удаление, проверка уникальности пары, сохранение/восстановление.
- Производительность: измерение позиций в `useLayoutEffect`; throttle обновлений линии через `requestAnimationFrame`;
  слушатели событий — на `window`.
- UX/UI: понятные заголовки, чипы пар, hover/active состояния, адаптивная верстка 2 колонки.

## Известные улучшения (roadmap)

- Подсветка потенциальной целевой ячейки при наведении.
- Клавиатурная доступность (выбор + соединение без мыши/тача).
- Нотификации (toasts) на Save/Load/Clear.
- Вынести хранение в `shared/lib/storage` или стор.

## Шаблон сообщения для отправки в ТГ

1. Репозиторий: <ссылка>
2. Описание: Прототип сопоставления (React+TS+Vite), FSD-структура, pointer events, сохранение пар.
3. Как запустить: `pnpm i && pnpm dev`
4. Что сделано: drag&drop, линии, удаление, валидация, сохранение; оптимизация через `useLayoutEffect` + rAF; адаптивный UI.
5. Что улучшить: подсветка таргета, клавиатура, toasts.
